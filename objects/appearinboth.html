<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appear In Both</title>
</head>

<body>
    <script>
        // Returns an array of elements that appear in both obj1 and obj2
        function appearInBoth(obj1, obj2) {
            // Create a map from obj1's elements for fast lookup
            let objMap = {};
            for (let i = 0; i < obj1.length; i++) {
                objMap[obj1[i]] = true;
            }
            let result = [];
            // Check which elements from obj2 appear in objMap
            for (let j = 0; j < obj2.length; j++) {
                // Use Object.prototype.hasOwnProperty.call to avoid shadowing
                if (objMap[obj2[j]] !== undefined) {
                    result[result.length] = obj2[j];
                }
            }
            return result;
        }
        function run() {
            let arr1 = [1, 4, 6, 3, 4, 53];
            let arr2 = [2, 5, 2, 5, 6, 54];
            appearInBoth(arr1, arr2);
        }
        run();
    </script>
</body>

</html>